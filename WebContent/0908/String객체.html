<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/public.css">
<script>
function proc1(){
	// 입력 - 110326-1234567
	code = prompt("주민번호입력", "110326-3456789");
	// 팝업창에 주민번호 입력이라는 말이 뜨고 글 쓰는 란에 110326 ~~~ 이라는 값이 미리보기로 뜬다
	
	// 값 추출 - String문자열로 리턴한다.
	yy = code.substring(0, 2); // 0번에서 2번전까지 code.substr(0,2)  slice(0, 2)
	mm = code.slice(2, 4); // 2번에서 4번까지       code.substr(2,2)  substring(2, 4)
	dd = code.substr(4, 2); // 4번부터 2개                            substring(4, 6)
	gg = code.charAt(7); // codesubstr(7,1), substring(7, 8) slice(7,8)
	
	var by ="";
	// 비교 1900, 2000년대 ??  남자, 여자 ??
	if(gg == "1" || gg =="2") by = "19";
	else if(gg == "3" || gg =="4" ) by = "20";
	
	year = by + yy;
	
	// 성별
	if(gg == "1" || gg =="3") gender = "남자";
	else if(gg == "2" || gg =="4") gender = "여자";
			
	
	// 나이
	today = new Date();
	// 현재 년도 구하기 - 
	age =  today.getFullYear() - year;
	
	//  출력 내용
	str = "주민번호" + code.slice(0,8) + "******";
	str += `생년월일 : ${year}년, ${mm}년,${dd}일 <br>`;
	str += `성별 : ${gender} <br>`;
	str += `나이 : ${age} <br>`;
	
	document.getElementById("result1").innerHTML = str;
	
}

proc2 = () =>{
	code = prompt("주민번호 입력", "110326-3456789");  
	
	// "110326-3456789"에서 -를 제거하기
	rcode = code.replace("-", "");
	
	number = "234567892345";
	
	/* rcode.substr(0,1) * number.substr(0,1);
	rcode.substr(1,1) * number.substr(1,1);
	rcode.substr(2,1) * number.substr(2,1);
	등등 */
	
	// 계산한 결과를 더해줄 변수 
	hap = 0;
	
	for(i = 0 ; i<number.length ; i++){
		hap += rcode.substr(i, 1) * number.substr(i,1);
	}
	
	aa = 11 - ( hap % 11 );
	
	// 방법 1
// 	if(aa == 10) aa = 0;
// 	if(aa == 11) aa = 1;
	
	// 방법 2 - if문 안쓰는 방법
	aa = aa % 10 ;
	
// 	if (rcode.charAt(12) == aa) res = "진짜에요";
// 	else res = "가짜에요";
	
	rcode.charAt(12) == aa ? res = "진짜에요" : res = "가짜에요";
	
	// 출력내용
	str = "주민번호 : " + code.slice(0, 8) + "******<br>";
	str += res;
	
	document.getElementById('result2').innerHTML = str;
	
}
</script>
</head>
<body>
<div>
	<h3>
	prompt로 주민등록번호를 입력 받아 생년월일과 성별, 나이를 출력하는 프로그램을 작성하시오.<br>	
	예) 주민등록번호를 110326-4432618로 입력 받은 경우<br>
	생일 : 2011년 3월 26일<br>
	성별 : 여자<br>
	나이 : 12<br>
	</h3>
	
	<input type="button" value="확인" onclick="proc1()">
	<div id="result1"></div>
</div>

<div>
	<h3>
	주민등록번호를 입력 받아 주민등록번호의 유효성을 검사하는 프로그램을 작성하시오.<br>
    (ABCDEF-GHIJKLM)<br>
	A*2 + B*3 + ... + H*9 + I*2 + ... + L*5 의 총합을 구한다.<br>
	1번의 합을 11로 나눈 나머지를 구한다.<br>
	11에서 2번의 결과를 뺀다.<br>
	3번의 결과가 0~9이면 값 그대로, 10이면 0, 11이면 1로 변환<br>
	4번의 결과와 M자리의 값이 같으면 맞는 번호이다.

	</h3>
	
	<input type="button" value="확인" onclick="proc2()">
	<div id="result2"></div>
</div>
</body>
</html>