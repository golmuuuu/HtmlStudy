<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/public.css">
<script>

today = new Date();

function proc1(){
	day = today.getDay();	// 오늘 요일을 구하는 메소드 0~6을 반환함
// 	alert(day);
	
	switch(day){
	case 0 :
		res = "일요일";
		break;
	case 1 :
		res = "수요일";
		break;
	case 2 :
		res = "화요일";
		break;
	case 3 :
		res = "수요일";
		break;
	case 4 :
		res = "목요일";
		break;
	case 5 :
		res = "금요일";
		break;
	case 6 :
		res = "토요일";
		break;
	}
	
	str = `${today.toLocaleString()}<br>`;
	str += `${res} 입니다 <br>`;
	
	document.querySelector('#result1').innerHTML = str;
}

function proc2(){
	arr = ["일요일", "월요일", "화요일", "수요일", "목요일", "금요일", "토요일" ];
	
	// arr[0]
	
	str = `${today.toLocaleString()}<br>`;
	str += `${arr[today.getDay()]} 입니다 <br>`;
	
	
	document.querySelector("#result2").innerHTML = str;
}

function proc3(){
	
	myday = new Date("1995. 5. 15");
	myday2 = new Date(1995, 5-1, 15); // 월은 0 부터 시작하므로 -1을 해줘야  한다 !
	
	console.log(myday.toLocaleString());
	console.log(myday2.toLocaleString());
	
	to = today.getTime();
	my = myday.getTime();
	
	console.log(to, my);
	
	times = to - my ; 
	console.log(times);
	
	myYear = times / 1000 / 3600 / 24 / 365;
	
	str = today.toLocaleString() + "<br>";
	str += myday.toLocaleString() + "<br>";
	str += myYear + "가 경과했습니다.";
	
	document.querySelector("#result3").innerHTML = str;
}

proc4 = () =>{
	// 오늘의 millisec
	to = today.getTime();
	
	// 500의 millisec
	day500 = 500 * 1000 * 3600 * 24 ;
	
	times = to + day500;
	
	date500 = new Date(times);
	
	str = "오늘 : " + today.toLocaleString() + "<br>";
	str += "500일 후 : " + 	date500.toLocaleString() + "<br>";
	
	document.querySelector("#result4").innerHTML = str;
	
}

proc5 = () => {
	// 선택한 날짜를 가져온다.
	// id=selday 를 검색 - 값을 가져온다. value
	selvalue = document.querySelector('#selday').value;
	console.log(selvalue);
	// 가져온 값으로 Date()객체를 생성
	vsel = new Date(selvalue);
	
	
	// millisec값 구하기
	seltime = vsel.getTime();
	to = today.getTime();
	
	times = to - seltime ; 
	console.log(seltime, to, times)
	
	seldate = times / 1000 / 3600 / 24 ;
	
	console.log(seldate)
	if(seldate > 7){
		str = "환불 불가";
	}else{
		str = "환불 가능";	
	}
	
	document.querySelector("#result5").innerText = str;
}	
</script>
</head>
<body>
<div>
	<h3>
	요일 구하기 - getDay() : 리턴값은 0(일요일) ~ 6 (토요일) <br>
	if나 switch를 이용<br>
	배열을 이용<br>
	</h3>
	
	<input type="button" value="if~switch" onclick="proc1()">
	<input type="button" value="배열" onclick="proc2()">
	<div id="result1"></div>
	<div id="result2"></div>
</div>

<div>
	<h3>
	태어난 날로부터 현재까지 경과한 날 수 구하기
		getTime() : 리턴값은 millisec
		millisec / 1000 : 실제 경과한 초를 구할 수 있다. 
	</h3>
	
	<input type="button" value="몇년?" onclick="proc3()">
	<div id="result3"></div>
</div>

<div>
	<h3>
	오늘로부터 500일 후 날짜를 계산하시오 <br>
	- 현재 날짜의 millisecond 구함<br>
	- 500일에 대한 ms 값을 구함 (500 * 1000 * 3600 * 24 ) <br> 
	</h3>
	
	<input type="button" value="500일 후?" onclick="proc4()">
	<div id="result4"></div>
</div>

<div>
	<h3>
	구입 날짜를 선택하면 그 날로부터 오늘까지 7일이 경과했는지 체크
	7보다 크면 "교환 불가" 작으면 "교환 가능" 출력
	</h3>
	
	<input type="date" id="selday" >
	<input type="button" value="확인" onclick="proc5()">
	<div id="result5"></div>
</div>
</body>
</html>